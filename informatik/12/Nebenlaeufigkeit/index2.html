<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lernpfad: Parallele Prozesse & Synchronisation</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Prism for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" />
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <span class="icon">‚ö°</span>
                <span>Parallele Prozesse</span>
            </div>
            <div class="nav-progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
        </div>
    </nav>

    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3>Kapitel</h3>
            <button class="sidebar-toggle" id="sidebarToggle">‚úï</button>
        </div>
        <ul class="sidebar-menu">
            <li><a href="#intro" data-chapter="0">üìã √úbersicht</a></li>
            <li><a href="#chapter1" data-chapter="1">üöÄ Einf√ºhrung & Grundbegriffe</a></li>
            <li><a href="#chapter2" data-chapter="2">‚öôÔ∏è Tasks & Threads</a></li>
            <li><a href="#chapter3" data-chapter="3">üîÑ Synchronisation & Konflikte</a></li>
            <li><a href="#chapter4" data-chapter="4">üêû √úbungen mit MultiKara</a></li>
            <li><a href="#chapter5" data-chapter="5">‚òï Nebenl√§ufigkeit in Java</a></li>
        </ul>
    </aside>

    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobileMenuBtn">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            
            <!-- Intro Section -->
            <section id="intro" class="content-section active">
                <div class="hero">
                    <h1 class="hero-title">Parallele Prozesse</h1>
                    <p class="hero-subtitle">Concurrent Programming</p>
                    <p class="hero-description">Eine Unterrichtseinheit f√ºr die 12. Klasse Informatik</p>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-icon">üéØ</div>
                        <h3>Ziele</h3>
                        <ul>
                            <li>Grundlagen paralleler Prozesse verstehen</li>
                            <li>Synchronisation und Kommunikation von Prozessen</li>
                            <li>Probleme erkennen und l√∂sen (Deadlocks)</li>
                            <li>Eigene nebenl√§ufige Programme entwickeln</li>
                        </ul>
                    </div>

                    <div class="info-card">
                        <div class="info-icon">üë•</div>
                        <h3>Zielgruppe</h3>
                        <p><strong>12. Klasse Informatik</strong> (Oberstufe)</p>
                        <p class="mt-2"><strong>Umfang:</strong> 4-8 Unterrichtsstunden</p>
                    </div>

                    <div class="info-card">
                        <div class="info-icon">üìö</div>
                        <h3>Vorkenntnisse</h3>
                        <p>Hilfreich, aber nicht notwendig:</p>
                        <ul>
                            <li>Endliche Automaten</li>
                            <li>Lernumgebung Kara (ETH Z√ºrich)</li>
                        </ul>
                    </div>
                </div>

                <div class="navigation-buttons">
                    <button class="btn btn-primary" onclick="navigateToChapter(1)">
                        Los geht's ‚Üí
                    </button>
                </div>
            </section>

            <!-- Chapter 1: Einf√ºhrung -->
            <section id="chapter1" class="content-section">
                <div class="chapter-header">
                    <span class="chapter-number">Kapitel 1</span>
                    <h2>Einf√ºhrung und Grundbegriffe</h2>
                </div>

                <div class="pdf-download-box">
                    <div class="pdf-icon">üìÑ</div>
                    <div class="pdf-content">
                        <h3>üìö Arbeitsunterlagen</h3>
                        <p>Bitte bearbeitet das folgende Aufgabenblatt:</p>
                        <a href="4-1 Tasks und Threads.pdf" download target="_blank"
                            rel="noopener noreferrer" class="btn btn-primary" style="display: inline-block; margin-top: 1rem;">
                            ‚¨áÔ∏è PDF herunterladen: 4-1 Tasks und Threads.pdf
                        </a>
                    </div>
                </div>

                <div class="example-box">
                    <h3>üç≥ Beispiel 1: Sepp und Max im Stress</h3>
                    <div class="example-content">
                        <p><strong>Max</strong> kocht ein Dreiminuten-Ei, w√§scht Salat, l√§sst den Pizza-Teig aufgehen und schl√§gt Rahm f√ºr die Creme zum Dessert.</p>
                        <p><strong>Sepp</strong> schneidet Zwiebeln, um sie sp√§ter anzud√§mpfen, siedet Tomaten, damit sie sich h√§uten, kocht Reis und muss aufpassen, dass der Zucker, den er f√ºr ein Karamell-T√∂pfchen einkocht, nicht anbrennt.</p>
                        <p class="highlight">Ganz sch√∂n stressig f√ºr die beiden! Zum Gl√ºck hat jeder seinen eigenen Arbeitsplatz, so kommen sie sich nicht gegenseitig in die Quere.</p>
                    </div>
                </div>

                <div class="task-box">
                    <h4>üìù Arbeitsauftr√§ge</h4>
                    <ol>
                        <li>Inwiefern arbeiten Sepp und Max gleichzeitig und unabh√§ngig voneinander? Inwiefern kann man von zweierlei Arten der Gleichzeitigkeit sprechen?</li>
                        <li>Nenne weitere Beispiele gleichzeitig ablaufender Alltagsprozesse.</li>
                        <li>Gib Beispiele f√ºr Gleichzeitigkeit bei der Computernutzung an.</li>
                    </ol>
                    <button class="btn btn-secondary" onclick="toggleSolution('solution1')">L√∂sung anzeigen</button>
                </div>

                <div id="solution1" class="solution-box hidden">
                    <h4>‚úÖ L√∂sung</h4>
                    <p><strong>Zu 1:</strong> Max und Sepp arbeiten zur selben Zeit im selben Raum, kommen sich jedoch dank getrennter Arbeitspl√§tze gegenseitig nicht in die Quere. Jeder kocht seine eigenen Gerichte, es gibt keine Zusammenarbeit.</p>
                    <p><strong>Zwei Arten von Gleichzeitigkeit:</strong></p>
                    <ul>
                        <li>Die K√∂che arbeiten gleichzeitig jeder f√ºr sich</li>
                        <li>Jeder der K√∂che f√ºhrt gleichzeitig mehrere Arbeiten durch</li>
                    </ul>
                    
                    <p><strong>Zu 2: Beispiele aus dem Alltag:</strong></p>
                    <ul>
                        <li>Essen: Hans trinkt aus seiner Tasse, Johanna isst ihr Honigbrot</li>
                        <li>Verkehr: Heinz f√§hrt von A nach B, Hanna f√§hrt von A nach C</li>
                        <li>Party: Peter und Hans wollen mit Susi tanzen</li>
                        <li>Flughafen: Starten und Landen mehrerer Flugzeuge, Betanken, Be- und Entladen</li>
                    </ul>

                    <p><strong>Zu 3: Beispiele bei der Computernutzung:</strong></p>
                    <ul>
                        <li>Mehrere Dokumente ausdrucken und dabei weiterarbeiten</li>
                        <li>Im Hintergrund arbeitender Virenscanner</li>
                        <li>Surfen und gleichzeitig Downloads durchf√ºhren</li>
                        <li>Musikdateien brennen und anh√∂ren</li>
                        <li>DVD abspielen (DVD auslesen, Bild und Ton wiedergeben)</li>
                        <li>Filme im Internet ansehen (gleichzeitiges Laden und Abspielen)</li>
                        <li>Gleichzeitige Bestellung mehrerer Kunden bei einem Internet-Shop</li>
                    </ul>
                </div>

                <div class="concept-box">
                    <h3>üí° Merkzettel: Nebenl√§ufigkeit</h3>
                    <div class="definition">
                        <p><strong>Nebenl√§ufigkeit</strong> (engl. concurrency = Gleichzeitigkeit):</p>
                        <p>Mehrere Vorg√§nge, Objekte oder Prozesse hei√üen <strong>nebenl√§ufig</strong>, wenn sie voneinander unabh√§ngig bearbeitet werden k√∂nnen.</p>
                    </div>
                    <ul class="concept-list">
                        <li>Zentrale, moderne Programmiertechnik der Informatik</li>
                        <li><strong>Spezialfall:</strong> Parallele Verarbeitung</li>
                        <li><strong>Parallele Prozesse</strong> = nebenl√§ufige Prozesse, die gleichzeitig in einem Computersystem ablaufen</li>
                        <li class="highlight-item">parallel = nebenl√§ufig + gleichzeitig!</li>
                        <li><strong>Gegenteil:</strong> Sequentielle Verarbeitung (nacheinander)</li>
                    </ul>
                </div>

                <div class="navigation-buttons">
                    <button class="btn btn-outline" onclick="navigateToChapter(0)">‚Üê Zur√ºck</button>
                    <button class="btn btn-primary" onclick="navigateToChapter(2)">Weiter ‚Üí</button>
                </div>
            </section>

            <!-- Chapter 2: Tasks & Threads -->
            <section id="chapter2" class="content-section">
                <div class="chapter-header">
                    <span class="chapter-number">Kapitel 2</span>
                    <h2>Tasks und Threads</h2>
                </div>

                <div class="concept-box">
                    <h3>üí° Zwei Arten von Gleichzeitigkeit</h3>
                    <p>Wie bei unserem Einf√ºhrungsbeispiel existieren auch in Computersystemen zwei Arten von Gleichzeitigkeit:</p>
                    
                    <div class="comparison-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Beispiel</th>
                                    <th>TASK (Prozess)</th>
                                    <th>THREAD (Faden)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Kochen</strong></td>
                                    <td>Gesamte Arbeit eines Koches</td>
                                    <td>Einzelne T√§tigkeit eines Koches</td>
                                </tr>
                                <tr>
                                    <td><strong>Computer</strong></td>
                                    <td>Gesamtes gestartetes Programm</td>
                                    <td>Nebenl√§ufige Sequenz eines Programms</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="definition-grid">
                    <div class="definition-card">
                        <div class="def-icon">üì¶</div>
                        <h4>TASK (Prozess)</h4>
                        <p>Ein <strong>Task</strong> ist ein vollst√§ndiger, unabh√§ngiger Prozess mit eigenem Speicherbereich.</p>
                        <ul>
                            <li>Eigener Adressraum</li>
                            <li>Unabh√§ngige Ausf√ºhrung</li>
                            <li>Kommunikation √ºber IPC (Inter-Process Communication)</li>
                        </ul>
                    </div>

                    <div class="definition-card">
                        <div class="def-icon">üßµ</div>
                        <h4>THREAD (Faden)</h4>
                        <p>Ein <strong>Thread</strong> ist ein Ablauffaden innerhalb eines Prozesses mit Zugriff auf den gleichen Speicherbereich.</p>
                        <ul>
                            <li>Gemeinsamer Speicher mit anderen Threads</li>
                            <li>Leichtgewichtig (weniger Overhead)</li>
                            <li>Direkte Kommunikation m√∂glich</li>
                        </ul>
                    </div>
                </div>

                <div class="terminology-box">
                    <h3>üìö Wichtige Begriffe</h3>
                    
                    <div class="term">
                        <strong>Nebenl√§ufigkeit (Concurrency)</strong>
                        <p>Mehrere Aufgaben werden scheinbar gleichzeitig bearbeitet (durch schnelles Umschalten)</p>
                    </div>

                    <div class="term">
                        <strong>Parallelverarbeitung (Parallelism)</strong>
                        <p>Mehrere Aufgaben werden tats√§chlich gleichzeitig auf verschiedenen Prozessorkernen ausgef√ºhrt</p>
                    </div>

                    <div class="term">
                        <strong>MultiTasking</strong>
                        <p>Mehrere Tasks (Prozesse) laufen quasi-parallel auf einem System</p>
                    </div>

                    <div class="term">
                        <strong>MultiThreading</strong>
                        <p>Mehrere Threads innerhalb eines Prozesses laufen quasi-parallel</p>
                    </div>
                </div>

                <div class="example-box">
                    <h3>üîç Weitere Beispiele</h3>
                    
                    <div class="example-item">
                        <h4>Webbrowser</h4>
                        <p><strong>Task:</strong> Der gesamte Browser-Prozess</p>
                        <p><strong>Threads:</strong></p>
                        <ul>
                            <li>UI-Thread (Benutzeroberfl√§che)</li>
                            <li>Netzwerk-Thread (Downloads)</li>
                            <li>Rendering-Thread (Seitendarstellung)</li>
                            <li>JavaScript-Thread</li>
                        </ul>
                    </div>

                    <div class="example-item">
                        <h4>Textverarbeitung</h4>
                        <p><strong>Task:</strong> Das Textverarbeitungsprogramm</p>
                        <p><strong>Threads:</strong></p>
                        <ul>
                            <li>Eingabe-Thread (Tastatur)</li>
                            <li>Rechtschreibpr√ºfung-Thread</li>
                            <li>Autospeichern-Thread</li>
                            <li>Druck-Thread</li>
                        </ul>
                    </div>
                </div>

                <div class="navigation-buttons">
                    <button class="btn btn-outline" onclick="navigateToChapter(1)">‚Üê Zur√ºck</button>
                    <button class="btn btn-primary" onclick="navigateToChapter(3)">Weiter ‚Üí</button>
                </div>
            </section>

            <!-- Chapter 3: Synchronisation -->
            <section id="chapter3" class="content-section">
                <div class="chapter-header">
                    <span class="chapter-number">Kapitel 3</span>
                    <h2>Synchronisation und Konfliktmanagement</h2>
                </div>

                <div class="pdf-download-box">
                    <div class="pdf-icon">üìÑ</div>
                    <div class="pdf-content">
                        <h3>üìö Arbeitsunterlagen</h3>
                        <p>Bitte bearbeitet das folgende Aufgabenblatt:</p>
                        <a href="4-2_und_4-3_NebenlaÃàufige_Prozesse.pdf" download target="_blank"
                            rel="noopener noreferrer" class="btn btn-primary" style="display: inline-block; margin-top: 1rem;">
                            ‚¨áÔ∏è PDF herunterladen: 4-2 und 4-3 Nebenl√§ufige Prozesse.pdf
                        </a>
                    </div>
                </div>

                <div class="example-box">
                    <h3>üç≥ Fortsetzung: Sepp und Max bereiten ein Men√º zu</h3>
                    <p>Max ist f√ºr die Vorspeise und das Dessert zust√§ndig, w√§hrend sich Sepp um das Hauptgericht k√ºmmert.</p>
                </div>

                <div class="task-box">
                    <h4>üìù Arbeitsauftrag</h4>
                    <p>√úberlege, ob auch Abh√§ngigkeiten zwischen den beiden bestehen k√∂nnten. Wenn ja, welche? Und wie m√ºssten Sepp und Max dann zusammenarbeiten?</p>
                    <button class="btn btn-secondary" onclick="toggleSolution('solution2a')">L√∂sung anzeigen</button>
                </div>

                <div id="solution2a" class="solution-box hidden">
                    <h4>‚úÖ L√∂sung</h4>
                    <p>Beide nebenl√§ufigen Prozesse (T√§tigkeiten der K√∂che) sind nur bez√ºglich ihrer Abarbeitung unabh√§ngig, jedoch <strong>indirekt voneinander abh√§ngig</strong>:</p>
                    <ul>
                        <li>Zugriff auf gleiche Betriebsmittel (Herd, Pfannen, Zutaten)</li>
                        <li>Arbeitsteilung erfordert Koordination</li>
                        <li>Max kann das Hauptgericht erst servieren, wenn die G√§ste die Vorspeise verzehrt haben</li>
                        <li>Zeitliche und √∂rtliche Abstimmung notwendig</li>
                    </ul>
                    <p class="highlight">‚Üí <strong>Prozess-Synchronisation</strong> ist erforderlich!</p>
                </div>

                <div class="example-box warning">
                    <h3>‚ö†Ô∏è Beispiel 2: Sepp und das kleine Pf√§nnchen</h3>
                    <p>Sepp will Zwiebeln anbraten und Zucker einkochen. F√ºr beide Arbeiten braucht er ein kleines Pf√§nnchen. Leider ist sein Arbeitsplatz etwas sp√§rlich ausgestattet, und so hat er nur ein einziges, geeignetes Pf√§nnchen.</p>
                </div>

                <div class="task-box">
                    <h4>üìù Arbeitsauftr√§ge</h4>
                    <ol>
                        <li>Warum kann man davon sprechen, dass sich f√ºr Sepp Konflikte beim Kochen ergeben?</li>
                        <li>√úbertrage das Beispiel auf die Informatik und nenne m√∂gliche Konflikte und Konfliktl√∂sungen bei der Computernutzung.</li>
                    </ol>
                    <button class="btn btn-secondary" onclick="toggleSolution('solution2b')">L√∂sung anzeigen</button>
                </div>

                <div id="solution2b" class="solution-box hidden">
                    <h4>‚úÖ L√∂sung</h4>
                    <p><strong>Zu 1:</strong> Zeitdruck und beschr√§nkte Betriebsmittel f√ºhren zu Konflikten:</p>
                    <ul>
                        <li>Gleichzeitige Verwendung des Pf√§nnchens nicht m√∂glich</li>
                        <li>Problem: Knappheit der Ressourcen</li>
                        <li>Wettstreit um notwendige Ressourcen (Betriebsmittel)</li>
                    </ul>

                    <p><strong>Zu 2: Informatik-Beispiele:</strong></p>
                    
                    <p><strong>Beispiel 1:</strong> Ausdruck zweier Texte auf demselben Drucker</p>
                    <ul>
                        <li>Ausgaben d√ºrfen auf dem Papier nicht gemischt erscheinen</li>
                        <li>Ein Prozess muss gesperrt werden, bis der andere seine Ausgabe beendet hat</li>
                    </ul>

                    <p><strong>Beispiel 2:</strong> Zwei Prozesse greifen schreibend auf dieselbe Datei zu</p>
                    
                    <p><strong>L√∂sungsans√§tze:</strong></p>
                    <ol>
                        <li><strong>Monitor (Belegung eines Betriebsmittels):</strong>
                            <ul>
                                <li>Abfrage an das Betriebsmittel ‚Äûfrei?"</li>
                                <li>Falls JA: Betriebsmittel belegen</li>
                                <li>Falls NEIN: Warten auf Freigabe</li>
                            </ul>
                        </li>
                        <li><strong>Kritische Abschnitte</strong> (Critical Section)</li>
                    </ol>
                </div>

                <div class="concept-box">
                    <h3>üí° Merkzettel: Synchronisation</h3>
                    <div class="key-points">
                        <div class="key-point">
                            <span class="number">1</span>
                            <div>
                                <strong>Parallele Prozesse k√∂nnen indirekt voneinander abh√§ngig sein</strong>
                                <p>‚Üí Synchronisation (= Abstimmung paralleler Vorg√§nge aufeinander)</p>
                            </div>
                        </div>
                        <div class="key-point">
                            <span class="number">2</span>
                            <div>
                                <strong>Aufgrund knapper Betriebsmittel k√∂nnen Konflikte auftreten</strong>
                                <p>‚Üí Konfliktmanagement (z.B. durch wechselseitigen Ausschluss)</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="example-box danger">
                    <h3>üö® Beispiel 3: Sepp und Max beim Aufr√§umen (Deadlock)</h3>
                    <p>Die K√ºche ist aufger√§umt, die beiden K√∂che m√ºssen nur noch den Boden wischen. Jeder m√∂chte m√∂glichst rasch nach Hause gehen.</p>
                    <p>W√§hrend Sepp den Besen holt, bringt Max den Wassereimer. Als sich nun Max nach dem Besen umsieht, merkt er, dass Sepp sich diesen genommen hat. Sepp geht es genauso: Wie er sich den Wassereimer nehmen will, sieht er, dass Max diesen bereits hat.</p>
                    <p class="highlight">‚ÄûGib mir den Besen!", ruft Max. ‚ÄûNein", sagt Sepp, ‚Äûich will jetzt den Wassereimer!" Die beiden blockieren sich. Wenn keiner nachgibt, werden sie den Boden nie reinigen k√∂nnen.</p>
                </div>

                <div class="task-box">
                    <h4>üìù Arbeitsauftr√§ge</h4>
                    <ol>
                        <li>Was unterscheidet diesen Konflikt von dem vorangehenden? Wie kann der Konflikt gel√∂st werden?</li>
                        <li>√úbertrage das Beispiel auf die Informatik und nenne m√∂gliche Konflikte und Konfliktl√∂sungen.</li>
                    </ol>
                    <button class="btn btn-secondary" onclick="toggleSolution('solution2c')">L√∂sung anzeigen</button>
                </div>

                <div id="solution2c" class="solution-box hidden">
                    <h4>‚úÖ L√∂sung</h4>
                    <p><strong>Zu 1: Unterschied und L√∂sung:</strong></p>
                    <p class="highlight">Dies ist eine <strong>Verklemmung (Deadlock)</strong>!</p>
                    <p>L√∂sung: Aufl√∂sen der Verklemmung durch Zuteilung beider Betriebsmittel (Eimer und Besen) an einen Prozess.</p>

                    <p><strong>Zu 2: Informatik-Beispiel:</strong></p>
                    <p>Ein Prozess m√∂chte Daten von der Festplatte auf einen Speicherstick transportieren:</p>
                    <ul>
                        <li>Prozess A reserviert die Festplatte und wartet auf den Speicherstick</li>
                        <li>Prozess B hat den Speicherstick belegt und wartet auf die Festplatte</li>
                        <li>Keiner der beiden Prozesse kann seine Verarbeitung fortsetzen</li>
                        <li>Nur ein ‚Äûgewaltsamer" Eingriff von au√üen kann die gegenseitige Blockierung aufl√∂sen</li>
                    </ul>

                    <p><strong>Weitere Beispiele:</strong></p>
                    <ul>
                        <li>Kontobuchungen (√úberweisung)</li>
                        <li>Datenbanken (Schreib- und Lesesperren)</li>
                    </ul>
                </div>

                <div class="concept-box warning">
                    <h3>üí° Merkzettel: Verklemmung</h3>
                    <p class="highlight">Der wechselseitige Ausschluss gen√ºgt nicht ‚Äì parallele Prozesse k√∂nnen sich sogar gegenseitig blockieren!</p>
                    <p><strong>Verklemmung (Deadlock):</strong> Zwei oder mehr Prozesse warten gegenseitig auf Ressourcen, die der jeweils andere h√§lt.</p>
                    <p><strong>L√∂sung:</strong> Blockaden m√ºssen erkannt und aufgel√∂st werden (Schutz durch Prozesskommunikation)</p>
                </div>

                <div class="strategy-grid">
                    <h3>üìä Strategien zur Vermeidung bzw. L√∂sung von Konflikten</h3>
                    
                    <div class="strategy-card">
                        <h4>Wechselseitiger Ausschluss (exklusiv)</h4>
                        <ul>
                            <li><strong>Monitor</strong> (engl. to monitor = √ºberwachen)</li>
                            <li><strong>Kritische Abschnitte</strong> (Critical Section)</li>
                            <li>Konfliktmanagement</li>
                            <li>Prozesskommunikation</li>
                        </ul>
                    </div>

                    <div class="strategy-card">
                        <h4>Zeitliche Synchronisation (inklusiv)</h4>
                        <ul>
                            <li><strong>Meeting Room</strong></li>
                            <li><strong>Barriere</strong> (Barrier)</li>
                            <li>Gegenseitige Abstimmung (z.B. Warten)</li>
                        </ul>
                    </div>
                </div>

                <div class="navigation-buttons">
                    <button class="btn btn-outline" onclick="navigateToChapter(2)">‚Üê Zur√ºck</button>
                    <button class="btn btn-primary" onclick="navigateToChapter(4)">Weiter ‚Üí</button>
                </div>
            </section>

            <!-- Chapter 4: MultiKara -->
            <section id="chapter4" class="content-section">
                <div class="chapter-header">
                    <span class="chapter-number">Kapitel 4</span>
                    <h2>√úbungen mit MultiKara</h2>
                </div>

                <div class="info-box">
                    <h3>üêû MultiKara: Concurrent Programming</h3>
                    <p>MultiKara ist eine Lernumgebung der ETH Z√ºrich, mit der parallele Prozesse visuell programmiert und getestet werden k√∂nnen.</p>
                </div>

                <div class="pdf-download-box multikara-downloads">
                    <div class="pdf-icon">üì•</div>
                    <div class="pdf-content">
                        <h3>üìö Materialien zum Download</h3>
                        <p>Lade zun√§chst die Kurzanleitung, die Starter-Dateien und die Anwesnung selbst herunter:</p>
                        <div class="download-links">
                            <a href="Kurzanleitung MultiKara.pdf" download target="_blank"
                            rel="noopener noreferrer" class="btn btn-primary">
                                ‚¨áÔ∏è Kurzanleitung MultiKara.pdf
                            </a>
                            <a href="1_Verkehrsproblem_Kara.zip" download target="_blank"
                            rel="noopener noreferrer" class="btn btn-primary">
                                ‚¨áÔ∏è 1_Verkehrsproblem_Kara.zip
                            </a>
                            <a href="2_Bus_Kara.zip" download target="_blank"
                            rel="noopener noreferrer" class="btn btn-primary">
                                ‚¨áÔ∏è 2_Bus_Kara.zip
                            </a>

                            <a href="https://www.swisseduc.ch/informatik/karatojava/multikara/" download target="_blank" class="btn btn-primary">
                                üîóMultiKara herunterladen
                            </a>
                        </div>
                    </div>
                </div>

                <div class="exercise-grid">
                    <div class="exercise-card">
                        <h4>üìù Aufgabenblatt 1: Verkehrsproblem</h4>
                        <p>Simuliere Verkehrssituationen mit mehreren Karas, die sich auf einer Stra√üe begegnen.</p>
                        <p><strong>Lernziele:</strong></p>
                        <ul>
                            <li>Grundlagen der Nebenl√§ufigkeit</li>
                            <li>Kollisionsvermeidung</li>
                            <li>Scheduler und Priorit√§ten</li>
                        </ul>
                        <a href="MultiKara Aufgabe1.pdf" download target="_blank"
                            rel="noopener noreferrer" class="btn btn-secondary">Aufgabenblatt √∂ffnen (PDF)</a>
                    </div>

                    <div class="exercise-card">
                        <h4>üìù Aufgabenblatt 2: Busproblem</h4>
                        <p>Mehrere Busse (Karas) m√ºssen koordiniert an Haltestellen halten.</p>
                        <p><strong>Lernziele:</strong></p>
                        <ul>
                            <li>Synchronisation von Prozessen</li>
                            <li>Warten und Signalisieren</li>
                            <li>Kritische Abschnitte</li>
                        </ul>
                        <a href="MultiKara Aufgabe2.pdf" download target="_blank"
                            rel="noopener noreferrer" class="btn btn-secondary">Aufgabenblatt √∂ffnen (PDF)</a>
                    </div>

                    <div class="exercise-card">
                        <h4>üìù Aufgabenblatt 3: Weitere √úbungen</h4>
                        <p><strong>Aufgabe 1:</strong> F√ºllen eines Rechtecks mit mehreren Karas</p>
                        <p><strong>Aufgabe 2:</strong> Erzeuger-Verbraucher-Problem</p>
                        <p><strong>Lernziele:</strong></p>
                        <ul>
                            <li>Komplexe Synchronisation</li>
                            <li>Producer-Consumer-Pattern</li>
                            <li>Deadlock-Vermeidung</li>
                        </ul>
                        <a href="MultiKara Aufgabe3.pdf" download target="_blank"
                            rel="noopener noreferrer" class="btn btn-secondary">Aufgabenblatt √∂ffnen (PDF)</a>
                    </div>
                </div>

                <div class="concept-box">
                    <h3>üéÆ MultiKara Features</h3>
                    <div class="feature-list">
                        <div class="feature">
                            <span class="icon">‚öôÔ∏è</span>
                            <div>
                                <strong>Scheduler / Priorit√§ten</strong>
                                <p>Steuere die Ausf√ºhrungsreihenfolge der Karas</p>
                            </div>
                        </div>
                        <div class="feature">
                            <span class="icon">üéØ</span>
                            <div>
                                <strong>Geschwindigkeitskontrolle</strong>
                                <p>Passe die Ausf√ºhrungsgeschwindigkeit an (langsam bis schnell)</p>
                            </div>
                        </div>
                        <div class="feature">
                            <span class="icon">üîç</span>
                            <div>
                                <strong>Visuelle Programmierung</strong>
                                <p>Beobachte parallele Prozesse in Echtzeit</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="navigation-buttons">
                    <button class="btn btn-outline" onclick="navigateToChapter(3)">‚Üê Zur√ºck</button>
                    <button class="btn btn-primary" onclick="navigateToChapter(5)">Weiter ‚Üí</button>
                </div>
            </section>

            <!-- Chapter 5: Java -->
            <section id="chapter5" class="content-section">
                <div class="chapter-header">
                    <span class="chapter-number">Kapitel 5</span>
                    <h2>Nebenl√§ufigkeit in Java</h2>
                </div>

                <div class="pdf-download-box">
                    <div class="pdf-icon">üìÑ</div>
                    <div class="pdf-content">
                        <h3>üìö Arbeitsunterlagen</h3>
                        <p>Bitte bearbeitet das folgende Aufgabenblatt:</p>
                        <a href="4-4 und 4-5 Betriebsmittelprobleme.pdf" download target="_blank"
                            rel="noopener noreferrer" class="btn btn-primary" style="display: inline-block; margin-top: 1rem;">
                            ‚¨áÔ∏è PDF herunterladen: 4-4 und 4-5 Betriebsmittelprobleme.pdf
                        </a>
                    </div>
                </div>

                <div class="info-box">
                    <p>Java bietet die M√∂glichkeit, einzelne Programmteile (Threads) quasi-parallel ablaufen zu lassen.</p>
                </div>

                <div class="concept-box">
                    <h3>üîß Thread-Erstellung in Java</h3>
                    <p>Ein Thread ist in Java immer die Instanz einer Klasse, die das Interface <code>Runnable</code> implementiert hat.</p>
                    
                    <p><strong>Zwei M√∂glichkeiten zur Thread-Erstellung:</strong></p>
                    <ol>
                        <li>Subklasse von <code>Thread</code> erstellen</li>
                        <li>Interface <code>Runnable</code> implementieren</li>
                    </ol>
                </div>

                <div class="code-example">
                    <h4>Methode 1: Subklasse von Thread</h4>
                    <pre><code class="language-java">class MeinThread extends Thread {
    @Override
    public void run() {
        // Code, der im Thread ausgef√ºhrt werden soll
        for (int i = 0; i < 10; i++) {
            System.out.println("Thread l√§uft: " + i);
            try {
                Thread.sleep(1000); // 1 Sekunde warten
            } catch (Exception e) {
                System.out.println(e.getMessage());
            }
        }
    }
}

// Verwendung:
MeinThread thread = new MeinThread();
thread.start(); // Thread starten (nicht run() aufrufen!)</code></pre>
                </div>

                <div class="code-example">
                    <h4>Methode 2: Runnable Interface</h4>
                    <pre><code class="language-java">class MeineAufgabe implements Runnable {
    @Override
    public void run() {
        // Code, der im Thread ausgef√ºhrt werden soll
        for (int i = 0; i < 10; i++) {
            System.out.println("Runnable l√§uft: " + i);
            try {
                Thread.sleep(1000); // 1 Sekunde warten
            } catch (Exception e) {
                System.out.println(e.getMessage());
            }
        }
    }
}

// Verwendung:
Thread thread = new Thread(new MeineAufgabe());
thread.start();</code></pre>
                </div>

                <div class="concept-box warning">
                    <h3>üîí Synchronisation in Java</h3>
                    <p>Die Synchronisation der Threads erfolgt mit:</p>
                    
                    <div class="sync-methods">
                        <div class="sync-method">
                            <h4><code>synchronized</code></h4>
                            <p>Etabliert einen Monitor f√ºr einen kritischen Bereich. Gleichzeitig darf nur ein Thread auf das Objekt zugreifen.</p>
                        </div>

                        <div class="sync-method">
                            <h4><code>wait()</code></h4>
                            <p>Legt den eigenen Prozess schlafen und gibt den Monitor f√ºr andere Prozesse frei.</p>
                        </div>

                        <div class="sync-method">
                            <h4><code>notify()</code></h4>
                            <p>St√∂√üt die Prozesse, die durch wait() angehalten wurden, wieder an.</p>
                        </div>
                    </div>
                </div>

                <div class="example-box">
                    <h3>üçΩÔ∏è Klassisches Beispiel: Producer-Consumer-Problem</h3>
                    <p>Das Erzeuger-Verbraucher-Problem ist eine klassische Problemstellung der Prozesssynchronisation.</p>
                    
                    <p><strong>Szenario:</strong></p>
                    <p>Ein Roboter (Erzeuger) f√ºllt eine Kiste und legt sie auf einem Zwischenspeicherplatz mit begrenzter Kapazit√§t ab. Die Kiste wird dann von einem zweiten Roboter (Verbraucher) abgeholt. Auf den Zwischenspeicherplatz darf immer nur ein Roboter zugreifen.</p>
                </div>

                <div class="code-example">
                    <h4>Depot-Klasse (Shared Resource)</h4>
                    <pre><code class="language-java">class Depot {
    private int buffer;
    private boolean empty = true;

    // Synchronized: Nur ein Thread kann gleichzeitig zugreifen
    public synchronized int get() {
        // Warten, wenn Depot leer ist
        if (empty) {
            try {
                Thread.sleep(1000); // 1 Sekunde warten
            } catch (Exception e) {
                System.out.println(e.getMessage());
            }
        }
        
        System.out.println("Abgeholt: " + buffer);
        empty = true;
        notify(); // Producer aufwecken
        return buffer;
    }

    public synchronized void put(int value) {
        // Warten, wenn Depot voll ist
        if (!empty) {
            try {
                Thread.sleep(1000); // 1 Sekunde warten
            } catch (Exception e) {
                System.out.println(e.getMessage());
            }
        }
        
        buffer = value;
        empty = false;
        System.out.println("Hinzugef√ºgt: " + buffer);
        notify(); // Consumer aufwecken
    }
}</code></pre>
                </div>

                <div class="code-example">
                    <h4>Consumer-Thread</h4>
                    <pre><code class="language-java">class Consumer extends Thread {
    private Depot depot;

    public Consumer(Depot depot) {
        this.depot = depot;
    }

    @Override
    public void run() {
        for (int i = 0; i < 10; i++) {
            depot.get(); // Wert aus Depot holen
            
            try {
                Thread.sleep(1000); // 1 Sekunde warten
            } catch (Exception e) {
                System.out.println(e.getMessage());
            }
        }
    }
}</code></pre>
                </div>

                <div class="code-example">
                    <h4>Producer-Thread</h4>
                    <pre><code class="language-java">class Producer extends Thread {
    private Depot depot;

    public Producer(Depot depot) {
        this.depot = depot;
    }

    @Override
    public void run() {
        for (int i = 0; i < 10; i++) {
            depot.put(i); // Wert ins Depot legen
            
            try {
                Thread.sleep(1000); // 1 Sekunde warten
            } catch (Exception e) {
                System.out.println(e.getMessage());
            }
        }
    }
}</code></pre>
                </div>

                <div class="code-example">
                    <h4>Hauptprogramm</h4>
                    <pre><code class="language-java">public class ProducerConsumerDemo {
    public static void main(String[] args) {
        // Gemeinsames Depot erstellen
        Depot depot = new Depot();
        
        // Producer und Consumer erstellen
        Producer producer = new Producer(depot);
        Consumer consumer = new Consumer(depot);
        
        // Threads starten
        producer.start();
        consumer.start();
        
        // Auf Beendigung warten
        try {
            Thread.sleep(1000); // 1 Sekunde warten
        } catch (Exception e) {
            System.out.println(e.getMessage());
        }
        
        System.out.println("Fertig!");
    }
}</code></pre>
                </div>

                <div class="example-box danger">
                    <h3>üç¥ Klassisches Problem: Speisende Philosophen</h3>
                    <p>Das Philosophenproblem ist ein klassisches Beispiel f√ºr die Notwendigkeit einer Prozess-Synchronisation.</p>
                    
                    <p><strong>Szenario:</strong></p>
                    <p>Es sitzen f√ºnf Philosophen an einem runden Tisch, und jeder hat einen Teller mit Spaghetti vor sich. Zum Essen von Spaghetti ben√∂tigt jeder Philosoph zwei Gabeln. Allerdings sind nur f√ºnf Gabeln vorhanden, die zwischen den Tellern liegen.</p>
                    
                    <p><strong>Das Problem:</strong></p>
                    <ul>
                        <li>Jeder Philosoph greift zuerst die linke, dann die rechte Gabel</li>
                        <li>Wenn alle gleichzeitig ihre linke Gabel nehmen, wartet jeder auf die rechte</li>
                        <li>Niemand kann essen ‚Üí <strong>Deadlock!</strong></li>
                    </ul>

                    <p><strong>L√∂sungsans√§tze:</strong></p>
                    <ul>
                        <li>Maximal 4 Philosophen gleichzeitig am Tisch</li>
                        <li>Asymmetrische L√∂sung (ein Philosoph greift erst rechts)</li>
                        <li>Beide Gabeln atomar (gleichzeitig) aufnehmen</li>
                        <li>Timeout-Mechanismus</li>
                    </ul>
                </div>

                <div class="code-example">
                    <h4>Philosophen-Problem: Gabel-Klasse</h4>
                    <pre><code class="language-java">class Gabel {
    private boolean verfuegbar = true;
    private int nummer;

    public Gabel(int nummer) {
        this.nummer = nummer;
    }

    public synchronized void aufnehmen() throws InterruptedException {
        while (!verfuegbar) {
            wait(); // Warten, bis Gabel frei ist
        }
        verfuegbar = false;
        System.out.println("Gabel " + nummer + " aufgenommen");
    }

    public synchronized void ablegen() {
        verfuegbar = true;
        System.out.println("Gabel " + nummer + " abgelegt");
        notify(); // Wartende Philosophen benachrichtigen
    }
}</code></pre>
                </div>

                <div class="code-example">
                    <h4>Philosophen-Klasse</h4>
                    <pre><code class="language-java">class Philosoph extends Thread {
    private int nummer;
    private Gabel linkeGabel;
    private Gabel rechteGabel;

    public Philosoph(int nummer, Gabel links, Gabel rechts) {
        this.nummer = nummer;
        this.linkeGabel = links;
        this.rechteGabel = rechts;
    }

    private void denken() throws InterruptedException {
        System.out.println("Philosoph " + nummer + " denkt");
        sleep((int)(Math.random() * 1000));
    }

    private void essen() throws InterruptedException {
        System.out.println("Philosoph " + nummer + " isst");
        sleep((int)(Math.random() * 1000));
    }

    @Override
    public void run() {
        try {
            for (int i = 0; i < 5; i++) {
                denken();
                
                // Gabeln aufnehmen
                linkeGabel.aufnehmen();
                rechteGabel.aufnehmen();
                
                essen();
                
                // Gabeln ablegen
                linkeGabel.ablegen();
                rechteGabel.ablegen();
            }
        } catch (Exception e) {
            System.out.println(e.getMessage());
        }
    }
}</code></pre>
                </div>

                <div class="best-practices">
                    <h3>‚úÖ Best Practices f√ºr Thread-Programmierung</h3>
                    
                    <div class="practice">
                        <span class="icon">1Ô∏è‚É£</span>
                        <div>
                            <strong>Minimiere kritische Abschnitte</strong>
                            <p>Halte synchronized-Bl√∂cke so kurz wie m√∂glich</p>
                        </div>
                    </div>

                    <div class="practice">
                        <span class="icon">2Ô∏è‚É£</span>
                        <div>
                            <strong>Vermeide Deadlocks</strong>
                            <p>Definiere eine feste Reihenfolge f√ºr das Sperren von Ressourcen</p>
                        </div>
                    </div>

                    <div class="practice">
                        <span class="icon">3Ô∏è‚É£</span>
                        <div>
                            <strong>Nutze h√∂here Abstraktionen</strong>
                            <p>Verwende java.util.concurrent (ExecutorService, CountDownLatch, etc.)</p>
                        </div>
                    </div>

                    <div class="practice">
                        <span class="icon">4Ô∏è‚É£</span>
                        <div>
                            <strong>Teste gr√ºndlich</strong>
                            <p>Thread-Probleme sind oft schwer reproduzierbar</p>
                        </div>
                    </div>

                    <div class="practice">
                        <span class="icon">5Ô∏è‚É£</span>
                        <div>
                            <strong>Dokumentiere Thread-Safety</strong>
                            <p>Markiere Klassen und Methoden klar als thread-safe oder nicht</p>
                        </div>
                    </div>
                </div>

                <div class="navigation-buttons">
                    <button class="btn btn-outline" onclick="navigateToChapter(4)">‚Üê Zur√ºck</button>
                    <button class="btn btn-success" onclick="showCompletion()">Abschlie√üen ‚úì</button>
                </div>
            </section>

            <!-- Completion Modal -->
            <div id="completionModal" class="modal hidden">
                <div class="modal-content">
                    <h2>üéâ Gl√ºckwunsch!</h2>
                    <p>Du hast den Lernpfad erfolgreich abgeschlossen!</p>
                    <h3>Was du gelernt hast:</h3>
                    <ul>
                        <li>‚úÖ Grundbegriffe der Nebenl√§ufigkeit</li>
                        <li>‚úÖ Synchronisation und Konfliktmanagement</li>
                        <li>‚úÖ Tasks und Threads</li>
                        <li>‚úÖ Praktische Umsetzung in Java</li>
                        <li>‚úÖ Klassische Probleme (Producer-Consumer, Philosophen)</li>
                    </ul>
                    <div class="modal-buttons">
                        <button class="btn btn-primary" onclick="hideCompletion()">Zum Anfang</button>
                        <button class="btn btn-outline" onclick="hideCompletion()">Schlie√üen</button>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 Lernpfad: Parallele Prozesse | Informatik Oberstufe</p>
            <p>Basierend auf Materialien f√ºr die 12. Klasse</p>
        </div>
    </footer>

    <!-- Prism script should be loaded before our script so highlighting is available -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <!-- Add Java language support for Prism -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
